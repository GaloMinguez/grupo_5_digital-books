const express = require('express');
const router = express.Router();

const mainController = require('../controllers/mainController');

const upload = require('../middlewares/multer');

router.get('/', mainController.index);

router.get('/register', mainController.register);

router.get('/login', mainController.login);

router.get('/products', mainController.productList);

router.get('/products/:id', mainController.productDetail);

router.get('/productCart', mainController.productCart);
//vista del form d creacion
router.get('/products/productCreate', mainController.productCreate);
// proceso de creacion produc
//router.post('/productCreate' , upload.array('imgTop', 'imgBack'), mainController.productSave); 
router.post('/products/productCreate' , upload.single('imgTop'), mainController.store); 
// mostrar form de edicion del producto
router.get('/productEdit/:id', mainController.productEdit);
// Proceso de actualizacion del product
router.put('/productEdit/:id', upload.single('imgTop'), mainController.productUpDate);

router.get('*', mainController.error);



module.exports = router;